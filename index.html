<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
	<title>Extruder Microstep Calculator</title>

	<!-- Bootstrap -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

	<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
		<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->
</head>
<body>
	<h1>Extruder Microstep Calculator</h1>

	<div class="container">
		<form autocomplete="off" action="javascript:void(0);">
			<h3>Print Settings</h3>
			<div class="row">
				<div class="col-md-2">
					<label for="line_width">Line width:</label>
					<div class="input-group">
						<input type="number" class="form-control" id="line_width" required="required" value="0.4" step="any"/>
						<span class="input-group-addon">mm</span>
					</div>
				</div>
				<div class="col-md-2">
					<label for="layer_height">Layer height:</label>
					<div class="input-group">
						<input type="number" class="form-control" id="layer_height" required="required" value="0.2" step="any"/>
						<span class="input-group-addon">mm</span>
					</div>
				</div>
				<div class="col-md-2">
					<label for="flow">Flow rate/Mixing ratio:</label>
					<div class="input-group">
						<input type="number" class="form-control" id="flow" required="required" value="100" step="any"/>
						<span class="input-group-addon">%</span>
					</div>
				</div>
				<div class="col-md-2">
					<label for="filament_diameter">Filament diameter:</label>
					<div class="input-group">
						<input type="number" class="form-control" id="filament_diameter" required="required" value="1.75" step="any"/>
						<span class="input-group-addon">mm</span>
					</div>
				</div>
				<div class="col-md-2">
					<label for="segement_size">Print move distance:</label>
					<div class="input-group">
						<input type="number" class="form-control" id="segement_size" required="required" value="0.2" step="any"/>
						<span class="input-group-addon">mm</span>
					</div>
				</div>
			</div>
			<h3>Extruder Settings</h3>
			<div class="row">
				<div class="col-md-4">
					<label for="extruder_steps">Extruder steps @16x microstepping:</label>
					<input type="number" class="form-control" id="extruder_steps" required="required" value="415" step="any"/>
				</div>
				<div class="col-md-2">
					<label for="retraction_speed">Retraction speed:</label>
					<div class="input-group">
						<input type="number" class="form-control" id="retraction_speed" required="required" value="1800" step="any"/>
						<span class="input-group-addon">mm/min</span>
					</div>
				</div>
			</div>
			<h3>Optional Adjustments</h3>
			<div class="row">
				<div class="col-md-2">
					<label for="step_rate">Maximum step rate:</label>
					<div class="input-group">
						<input type="number" class="form-control" id="step_rate" required="required" value="200" step="any"/>
						<span class="input-group-addon">kHz</span>
					</div>
				</div>
			</div>
			<div class="well well-lg">
				<h3>Calculated Values</h3>
				<div class="row">
					<div class="col-md-2">
						<h4>
							Extrusion in mmÂ³/mm:
							<span id="extrusion_in_mm3_mm"></span>
						</h4>
					</div>
					<div class="col-md-2">
						<h4>
							Filament area:
							<span id="filament_area"></span>
						</h4>
					</div>
					<div class="col-md-2">
						<h4>
							mm of input for 1mm of output:
							<span id="input_output_ratio"></span>
						</h4>
					</div>
					<div class="col-md-2">
						<h4>
							Extrusion amount for print move:
							<span id="extrusion_on_segment"></span>
						</h4>
					</div>
				</div>
				<h3>Microstepping Comparison</h3>
				<div class="row">
					<table class="table table-striped">
						<thead>
							<tr>
								<th>Microstepping</th>
								<th>Steps/mm</th>
								<th>mm/Microstep</th>
								<th>Max Retraction Speed</th>
								<th>Microsteps on Print Move</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>1</td>
								<td><span id="steps_mm_1"/></td>
								<td><span id="mm_ustep_1"/></td>
								<td><span id="max_retract_1"/></td>
								<td><span id="usteps_on_segment_1"/></td>
							</tr>
							<tr>
								<td>2</td>
								<td><span id="steps_mm_2"/></td>
								<td><span id="mm_ustep_2"/></td>
								<td><span id="max_retract_2"/></td>
								<td><span id="usteps_on_segment_2"/></td>
							</tr>
							<tr>
								<td>4</td>
								<td><span id="steps_mm_4"/></td>
								<td><span id="mm_ustep_4"/></td>
								<td><span id="max_retract_4"/></td>
								<td><span id="usteps_on_segment_4"/></td>
							</tr>
							<tr>
								<td>8</td>
								<td><span id="steps_mm_8"/></td>
								<td><span id="mm_ustep_8"/></td>
								<td><span id="max_retract_8"/></td>
								<td><span id="usteps_on_segment_8"/></td>
							</tr>
							<tr>
								<td>16</td>
								<td><span id="steps_mm_16"/></td>
								<td><span id="mm_ustep_16"/></td>
								<td><span id="max_retract_16"/></td>
								<td><span id="usteps_on_segment_16"/></td>
							</tr>
							<tr>
								<td>32</td>
								<td><span id="steps_mm_32"/></td>
								<td><span id="mm_ustep_32"/></td>
								<td><span id="max_retract_32"/></td>
								<td><span id="usteps_on_segment_32"/></td>
							</tr>
							<tr>
								<td>64</td>
								<td><span id="steps_mm_64"/></td>
								<td><span id="mm_ustep_64"/></td>
								<td><span id="max_retract_64"/></td>
								<td><span id="usteps_on_segment_64"/></td>
							</tr>
							<tr>
								<td>128</td>
								<td><span id="steps_mm_128"/></td>
								<td><span id="mm_ustep_128"/></td>
								<td><span id="max_retract_128"/></td>
								<td><span id="usteps_on_segment_128"/></td>
							</tr>
							<tr>
								<td>256</td>
								<td><span id="steps_mm_256"/></td>
								<td><span id="mm_ustep_256"/></td>
								<td><span id="max_retract_256"/></td>
								<td><span id="usteps_on_segment_256"/></td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</form>
	</div>

	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<!-- Include all compiled plugins (below), or include individual files as needed -->
	<script src="js/bootstrap.min.js"></script>
</body>
</html>
